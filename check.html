<div class="container">
  <section class="panel square"></section>
  <section class="panel diamond"></section>
  <section class="panel square"></section>
  <section class="panel diamond"></section>
  <section class="panel square"></section>
  <section class="panel diamond"></section>
  <section class="panel square"></section>
</div>

<style>
  body,
  html {
    margin: 0;
    padding: 0;
    background-color: black;
    color: white;
    height: 100%;
  }

  .container {
    height: 100vh;
    overflow-y: scroll;
    scroll-snap-type: y mandatory;
  }

  .panel {
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    scroll-snap-align: start;
    border: 1px solid white;
    margin: 10px;
  }

  .square {
    width: 80%;
    aspect-ratio: 1;
  }

  .diamond {
    width: 80%;
    aspect-ratio: 1;
    transform: rotate(45deg);
  }
</style>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
<script src="https://unpkg.com/lenis@1.1.5/dist/lenis.min.js"></script>

<script>
  gsap.registerPlugin(ScrollTrigger);

  gsap.utils.toArray(".panel").forEach((panel, i) => {
    ScrollTrigger.create({
      trigger: panel,
      start: "top bottom",
      end: "top top",
      onEnter: () => gsap.to(panel, { opacity: 1, duration: 0.5 }),
      onLeaveBack: () => gsap.to(panel, { opacity: 0, duration: 0.5 }),
    });
  });
</script>